@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap');
@import 'tailwindcss';

@font-face {
	font-family: 'Minecraft';
	src: url('/fonts/Minecraft.ttf') format('truetype');
}

.light {
	color-scheme: light;

	--text: rgb(30, 3, 43);
	--background: rgb(245, 221, 253);
	--primary: rgb(88, 8, 125);
	--secondary: rgb(246, 106, 213);
	--accent: rgb(201, 13, 123);
}

.dark {
	color-scheme: dark;

	--text: rgb(239, 212, 252);
	--background: rgb(26, 2, 34);
	--primary: rgb(210, 130, 247);
	--secondary: rgb(149, 9, 117);
	--accent: rgb(242, 54, 164);
}

@theme inline {
	--color-text: var(--text);
	--color-background: var(--background);
	--color-primary: var(--primary);
	--color-secondary: var(--secondary);
	--color-accent: var(--accent);
}

@utility space-grotesk-* {
	font-family: 'Space Grotesk', sans-serif;
	font-optical-sizing: auto;
	font-weight: --value('300', '400', '500', '600', '700');
	font-style: normal;
}

@utility orbitron-* {
	font-family: "Orbitron", sans-serif;
	font-optical-sizing: auto;
	font-weight: --value('400', '500', '600', '700', '800', '900');
	font-style: normal;
}

@utility glass-* {
	position: relative;
	overflow: hidden;

	&::before {
		content: '';
		position: absolute;
		inset: 0;
		background: rgba(255, 255, 255, 0.1);
		backdrop-filter: blur(calc(--value(integer) * 1px));
		z-index: -1;
	}
}

@custom-variant standalone {
	@media (display-mode: standalone) {
		@slot;
	}
}

::selection {
	@apply bg-primary text-background;
}

/* FROM https://codepen.io/ragnar_ock/pen/QwbYbOQ */

::view-transition {
	background: black;
}

::view-transition-image-pair(root) {
	perspective: 2500px;
	perspective-origin: center;
	transform-style: preserve-3d;
	transform-origin: 50% 50% 100vw;
	filter: drop-shadow(0px 0px 6px hsl(165deg 11% 3%)) drop-shadow(0px 0px 25px hsl(165deg 11% 3%/50%));
}

::view-transition-old(root),
::view-transition-new(root) {
	animation: 1.5s linear(0,
			0.324 9.1%,
			0.584 18.6%,
			0.782 28.6%,
			0.858 33.8%,
			0.92 39.2%,
			0.997 49.5%,
			1.021 55.1%,
			1.033 61%,
			1.035 71.7%,
			1);
	transform-style: preserve-3d;
	transform-origin: 50% 50% 0;
	transform: translateZ(-50vw) scale(var(--scale)) rotatey(var(--rotation)) translatez(50vw);
	backface-visibility: hidden;
}

::view-transition-old(root) {
	animation-name: reveal-out;
}

::view-transition-new(root) {
	animation-name: reveal-in;
}

@property --rotation {
	syntax: "<angle>";
	inherits: false;
	initial-value: 0deg;
}

@property --scale {
	syntax: "<number>";
	inherits: false;
	initial-value: 1;
}

@keyframes reveal-in {
	from {
		--rotation: -90deg;
		animation-timing-function: ease-in-out;
	}

	15% {
		--scale: 0.8;
		--rotation: -90deg;
	}

	85% {
		--scale: 0.8;
		--rotation: 0deg;
		animation-timing-function: ease-in-out;
	}

	to {
		--rotation: 0deg;
	}
}

@keyframes reveal-out {
	from {
		--rotation: 0deg;
		animation-timing-function: ease-in-out;
	}

	15% {
		--scale: 0.8;
		--rotation: 0deg;
	}

	85% {
		--scale: 0.8;
		--rotation: 90deg;
		animation-timing-function: ease-in-out;
	}

	to {
		--rotation: 90deg;
	}
}

/* END FROM https://codepen.io/ragnar_ock/pen/QwbYbOQ */

* {
	@apply space-grotesk-400;
	outline: none;
	box-sizing: border-box;
}

html, body {
	@apply m-0 p-0;
	@apply bg-background;
}

img {
	@apply select-none pointer-events-none;
}

body.minecraft * {
	font-family: 'Minecraft', monospace;
	cursor: url('/cursors/sword.cur'), auto;
}

/* .text-glitch .char.changing {} */